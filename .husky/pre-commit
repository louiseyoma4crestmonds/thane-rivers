#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

yarn lint-staged

echo 'ğŸ—ğŸ‘·ğŸ¼ Styling, testing and building your code before committing.'

yarn check-types ||
(
  echo 'ğŸ™ˆ Failed type checking, please fix the errors above and try again.'
  false;
)

yarn check-format ||
(
  echo 'ğŸ¤® Looks like your styling sucks, Prettier check failed, run yarn format, then try again.'
  false;
)

yarn check-lint ||
(
  echo 'ğŸ’© Looks like you need to brush up on your code standards, make the recommended changes above and then try again.'
  false;
)

echo 'âœ… Codes looking good...running build'

yarn build ||
(
  echo 'ğŸƒ Looks like your build failed, please fix the errors above and try again.'
  false;
)

echo 'ğŸ‰ Build complete, committing now...'